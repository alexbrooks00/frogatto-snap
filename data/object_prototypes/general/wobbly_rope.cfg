{
	id: "wobbly_rope",
	prototype: ["standard_values"],
	
	properties: {
		bounds: {
			type: "{x: decimal, x2: decimal, y: decimal, y2: decimal}",
			init: "{x: mid_x, x2: mid_x+1, y: mid_y, y2: mid_y+1}"
		},
		_x_1: { type: "decimal", init: "mid_x" },
		_x_2: { type: "decimal", init: "mid_x+1" },
		_y_1: { type: "decimal", init: "mid_y" },
		_y_2: { type: "decimal", init: "mid_y+1" },

		is_player_body_part: true,
		length: "decimal :: lib.math.length(bounds.x, bounds.y, bounds.x2, bounds.y2)",
		set_ends: "def(decimal new_x1, decimal new_y1, decimal new_x2, decimal new_y2) -> commands [
			set(bounds, {
				x: new_x1,
				y: new_y1,
				x2: new_x2,
				y2: new_y2
			}),
			fire_event(me,'create'),
		]",
	},
	
	on_create: "[
		set(mid_x, int( (bounds.x2 + bounds.x) / 2) ),
		set(y, int((bounds.y2 + bounds.y) / 2 - (length/2))),
		set(draw_area, [0, 0, img_w/2, length/2]),
		set(rotate, ( angle(bounds.x, bounds.y, bounds.x2, bounds.y2) - 90) ),
	]",
		
	animation: {
		id: "default",
		image: "characters/frogatto-tongueB.png",
		rect: [0,0,7,7],
		frames: 1,
		no_remove_alpha_borders: true,
	},
}